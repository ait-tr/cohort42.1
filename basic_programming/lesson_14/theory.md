## Основы Git

**Система контроля версий** (**VCS**) — система, записывающая изменения в файле или файлах в течение времени и позволяющая потом вернуться к определённой версии.
Как правило VCS используют для сопровождения исходного кода программного обеспечения, хотя их можно также использовать практически для любых файлов.

Существуют **локальные системы контроля версий** (Local VCS), например [RSC](https://www.gnu.org/software/rcs/), которая хранит на диске наборы патчей
(различий между файлами) в специальном формате, применяя которые она может воссоздавать состояние каждого файла в заданный момент времени.

Для взаимодействия между разработчиками были созданы **централизованные системы контроля версий** (Centralized VCS), такие как CVS, Subversion и Perforce.
Они используют единственный сервер, содержащий все версии файлов, и некоторое количество клиентов, которые получают файлы из этого централизованного хранилища.
Их применение являлось стандартом на протяжении многих лет.

Однако централизованые VCS обладают серьёзным недостатком. В случае недоступности центрального сервера вы не можете получать и сохранять изменения.
А если центральный сервер будет по каким-то причинам потерян, вы потеряете все изменения. Аналогичный недостаток имеют и локальные VCS —
при выходе из строя, например, жесткого диска, вы теряете изменения.

Этого недостатка лишены **распределённые системы контроля версий**, такие как Git, Mercurial, Bazaar или Darcs. В них клиенты не просто получают `такущий снимок`
(состояние файлов на определённый момент времени) — они полностью копируют репозиторий со всей историей изменений.
Каждая копия репозитория является полным бэкапом всех данных.

**Появление Git** связано с разработкой Linux. Изначально (1991–2002 гг.) разработчики обменивались по сети изменениями в виде патчей и архивов.
Затем, в 2002 году они начали использовать проприетарную децентрализованную VCS BitKeeper. В 2005 году использование утилиты стало невозможным.
Тогда сообщество разработчиков Linux создало свою утилиту, Git.

## Особенности Git

Основное отличие Git от любой другой VCS (включая Subversion и её собратьев) — это подход к работе с данными.
Большинство других систем хранят информацию в виде списка изменений в файлах (это называют контролем версий, основанным на различиях).
Подход Git к хранению данных больше похож на набор снимков миниатюрной файловой системы.
Каждый раз, когда делается коммит, то есть сохраняется состояние проекта в Git, система запоминает, как выглядит каждый файл в этот момент,
и сохраняет ссылку на этот снимок.

Для большинства операций в Git достаточно локальных файлов и ресурсов — в основном, системе не нужна никакая сетевая информация.

В Git для всего вычисляется хеш-сумма, и только потом происходит сохранение. В дальнейшем обращение к сохранённым объектам происходит по этой хеш-сумме.
Это значит, что невозможно изменить содержимое файла или каталога так, чтобы Git не узнал об этом.

Когда мы производим какие-либо действия в Git, практически все из них только добавляют новые данные.
Очень сложно заставить систему удалить данные либо сделать что-то, что нельзя впоследствии отменить.
Как и в любой другой системе контроля версий, вы можете потерять или испортить свои изменения, пока они не зафиксированы,
но после того, как вы зафиксируете снимок в Git, будет очень сложно что-либо потерять, особенно,
если вы регулярно синхронизируете свою базу с другим репозиторием.

У Git есть три основных состояния, в которых могут находиться файлы: изменён (**modified**), индексирован (**staged**) и зафиксирован (**committed**):
- К изменённым относятся файлы, которые поменялись, но ещё не были зафиксированы.
- Индексированный — это изменённый файл в его текущей версии, отмеченный для включения в следующий коммит.
- Зафиксированный значит, что файл уже сохранён в вашей локальной базе.

Базовый подход в работе с Git выглядит так:
1. Изменяем файлы в локальном репозитории.
2. Выборочно добавляем в индекс только те изменения, которые должны попасть в коммит, добавляя тем самым снимки только этих изменений в индекс.
3. Когда делается коммит, используются файлы из индекса, и этот снимок сохраняется в Git.
4. Локальный репозиторий синхронизируется с удалённым репозиторием с помощью специальных команд.
5. Файл **.gitignore** содержит имена и маски файлов и каталогов, которые Git будет игнорировать.

## Основные команды git

`git init` — создание локального репозитория

`git remote add origin https://github.com/<profile_name>/<repo_name>` — связывание локального репозитория с удалённым

`git add <file_name>` — добавление файла в индекс (или . вместо имени добавляем все файлы в папке)

`git commit -m "init commit"` — фиксация изменений (коммит)

`git log` — журнал коммитов

`git push -u origin <branch_name>` — отправка изменений в удалённый репозиторий (первый раз)

`git pull origin <branch_name>` — получение изменений из удалённого репозитория

**Основной сеанс работы с локальным репозиторием**, после создания удалённого репозитория.

`git clone https://github.com/<profile_name>/<repo_name> <local_dir>` — клонирование удалённого репозитория в локальную папку

`git status` — получение статуса локального репозитория

`git add <file_name>` — добавление файла в систему отслеживания git

`git commit -m "commit_message"` — создает коммит с сообщением

`git log` — журнал сделанных коммитов

`git push` — синхронизируем локальный репозиторий с удалённым