## Архитектура приложения

Сегодня мы поговорим о **слоистой архитектурой** (Layered Architecture) или **многоуровневой архитектурой** (Multi-tier Architecture). 

В такой архитектуре приложение разделяется на отдельные слои, каждый из которых имеет свою специфическую роль и ответственность.
Это разделение позволяет упростить разработку и тестирование приложений, а также повысить их масштабируемость, безопасность и удобство поддержки.

Ключевые характеристики слоистой архитектуры:

- **Изолированность слоев**: Каждый слой фокусируется на выполнении своей конкретной задачи и взаимодействует только со слоями, непосредственно предшествующим или последующим ему. 
  Это обеспечивает четкое разделение ответственности между компонентами системы.
- **Абстракция**: Верхние слои не знают деталей реализации нижних слоев, что позволяет изменять реализацию нижних слоев без влияния на верхние.
- **Взаимозаменяемость и масштабируемость**: Благодаря четкому разделению слоев можно легко заменять или масштабировать отдельные части системы, не затрагивая остальные.
- **Удобство в тестировании и поддержке**: Каждый слой можно тестировать отдельно от других, что упрощает процесс разработки и поддержки приложения.

### О слоях

Приложение, как минимум, должно иметь следующие слои:

1. **Слой моделей (Model Layer)**:
  - Определение основных сущностей: `Пользователь`, `Товар`, `Заказ` и т.д.
  - Определение атрибутов каждой сущности и методов доступа.

2. **Слой репозитория (Repository Layer)**:
  - Отвечает за прямую работу с данными. В этом слое организовывается возможность сохранять, получать, изменять или удалять данные.
  - Методы для добавления, удаления, обновления и извлечения данных.

3. **Сервисный слой (Service Layer)**:
  - Содержит бизнес-логику приложения.
  - Методы, такие как `добавитьТовар`, `создатьЗаказ`, `зарегистрироватьПользователя` и т.д.
  - Взаимодействует со слоем репозитория для доступа к данным.

4. **Презентационный слой (Presentation Layer)**:
  - Отвечает за взаимодействие с пользователем, отображение информации и обработку пользовательского ввода.

### Важность последовательности обращений между слоями

Особое внимание следует уделить тому, что запросы из презентационного слоя должны обязательно проходить через сервисный слой для обращения к данным.
Это ключевой момент в обеспечении безопасности, абстракции и целостности архитектуры приложения. 

Такая последовательность обращений гарантирует, что все операции с данными происходят в соответствии с бизнес-логикой и правилами безопасности, 
установленными в сервисном слое. 

Прямое обращение из презентационного слоя к слою репозитория минуя сервисный слой нарушает принципы разделения ответственности 
и может привести к уязвимостям в безопасности, ошибкам в обработке данных и нарушениям в бизнес-процессах.
