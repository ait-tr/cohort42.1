# Docker

Docker - это платформа для разработки, доставки и запуска приложений в контейнерах. Контейнеры представляют собой легковесные, автономные пакеты программного обеспечения, которые включают в себя все необходимое для запуска приложения: код, библиотеки, зависимости, настройки и т. д. Docker обеспечивает стандартизацию окружения приложения, упрощает развертывание и обеспечивает консистентность работы приложения в различных средах, таких как локальная среда разработки, тестирование и производство.

## Основные понятия Docker:

1. **Образ (Image)**: Образ Docker - это шаблон, который содержит все необходимые файлы и настройки для создания контейнера. Образы используются для создания контейнеров.

2. **Контейнер (Container)**: Контейнер - это экземпляр образа Docker, который запущен с определенными настройками. Контейнеры изолированы друг от друга и от хост-системы.

3. **Dockerfile**: Dockerfile - это текстовый файл, который содержит инструкции для создания образа Docker. Он описывает шаги для установки и настройки окружения приложения.

4. **Docker Engine**: Docker Engine - это основной компонент Docker, который управляет контейнерами, образами и другими аспектами Docker. Он включает в себя клиентский и серверный компоненты.

Основные команды Docker:

1. **docker build**: Создает образ Docker из Dockerfile.

2. **docker run**: Запускает контейнер из образа.

3. **docker pull**: Загружает образ Docker из репозитория Docker Hub или другого удаленного реестра.

4. **docker push**: Отправляет образ Docker в репозиторий Docker Hub или другой удаленный реестр.

5. **docker ps**: Показывает запущенные контейнеры.

6. **docker stop**: Останавливает запущенный контейнер.

7. **docker rm**: Удаляет контейнер.

8. **docker rmi**: Удаляет образ Docker.

## Пример 1 - отдельный скрипт index.js

```Dockerfile
FROM node:alpine
WORKDIR /app
COPY ./ ./
CMD node index.js
```

`docker build -t panda-app ./`

`docker images` - вывести все образы

## Пример 2 - сервер на express

`npm init -y`

```js
const express = require("express");
const app = express();
const port = 3000;

app.get("/", (req, res) => {
  res.send(JSON.stringify({ message: "Hello cohort39!" }));
});

app.listen(port, () => {
  console.log(`Example app listening on port ${port}`);
});

// npm start - команда для запуска
// ctr c - нажать, чтобы остановить сервер
// http://localhost:3000/
```

```Dockerfile
FROM node:alpine

WORKDIR /app

COPY package.json ./

RUN npm install

COPY ./ ./

EXPOSE 3000

# Альтернатива команде ниже CMD node index.js
CMD ["node", "index.js"]
```

`docker build -t server-app ./` - не забудьте изменить имя вашего образа

`docker run -d -p 3000:3000 --name server-app-cintainer server-app` - первый порт это порт, на котором будет отображаться приложение, второй - это порт внутри контейнера, не забудьте исправить имена
